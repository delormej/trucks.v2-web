<div *ngIf="driverSettlement!=null">
    <h3>
        <a [routerLink]="['/driver']" 
            [queryParams]="{driver: driverSettlement.driver}">
            {{driverSettlement.driver}}
        </a>
    </h3>
    <table style="table-layout: auto; width: 25%;">
        <tr>
            <th>Settlement</th>
            <td>
                <a [routerLink]="['/settlement-detail']" 
                    [queryParams]="{companyId: driverSettlement.companyId, 
                                    settlementId: driverSettlement.settlementId}">
                {{driverSettlement.settlementId}}
                </a>                
            </td>
        </tr>
        <tr>
            <th>Week</th>
            <td>{{driverSettlement.week}}</td>
        </tr>
        <tr>
            <th>Miles</th>
            <td>{{driverSettlement.milesTotal}}</td>
        </tr>        
        <tr>
            <td>Base</td>
            <td>{{driverSettlement.baseTotal.toDisplay()}}</td>
        </tr>
        <tr>
            <td>FSC</td>            
            <td>{{driverSettlement.fscTotal.toDisplay()}}</td>
        </tr>
        <tr>
            <td>Accesorials</td>
            <td>{{driverSettlement.accessorialTotal.toDisplay()}}</td>
        </tr>
        <tr>
            <td>Total Credits</td>
            <td>{{driverSettlement.creditsTotal}}</td>
        </tr>
        <tr>
            <td>Total Income</td>
            <td>{{driverSettlement.income.toDisplay()}}</td>
        </tr>
        <tr>
            <td>Total Deductions</td>
            <td>{{driverSettlement.deductionsTotal}}</td>
        </tr>
        <tr>
            <td>Qualcomm</td>
            <td>{{driverSettlement.qualComm}}</td>
        </tr>
        <tr>
            <td>Occupational Ins</td>
            <td>{{driverSettlement.occupationalInsurance}}</td>
        </tr>
        <tr>
            <td>Previous Negative Balance</td>
            <td>{{driverSettlement.previousNegativeBalance}}</td>
        </tr>
        <tr>
            <td>Fuel</td>
            <td>{{driverSettlement.fuel.toDisplay()}}</td>
        </tr>        
    </table>

    <hr />

    <table style="table-layout: auto; width: 100%;">
        <tr>
            <th>Load</th>
            <th>Miles</th>
            <th>Revenue</th>
            <th>Base</th>
            <th>FSC</th>
            <th>Deadhead</th>
            <th>Empty</th>
            <th>Tolls</th>
            <th>Other</th>
        </tr>
        <tr *ngFor="let c of driverSettlement.credits">
            <td>{{c.proNumber}}</td>
            <td>{{c.miles > 0 ? c.miles : ""}}</td>
            <td>{{c.extendedAmount.toDisplay()}}</td>
            <td>{{c.creditAmount.toDisplay()}}</td>
            <td>{{c.advanceAmount.toDisplay()}}</td>
            <td>{{c.deadHead.toDisplay()}}</td>
            <td>{{c.empty.toDisplay()}}</td>
            <td>{{c.tolls.toDisplay()}}</td>
            <td>{{c.other.toDisplay()}}</td>
        </tr>
    </table>

    <h4>Amount Due: {{driverSettlement.amountDue.toDisplay()}}</h4>
    <a href={{getWorkbookLink(driverSettlement)}}>
        Download Workbook
    </a>
    <hr />
    <app-driver-settlement-notes [driverSettlement]="driverSettlement"></app-driver-settlement-notes>
</div>